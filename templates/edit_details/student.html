{% extends 'base.html' %}

{% block content %}
<div class="m-5">
{% if data == 'Not Found' or data == '' %}
    <p class="massage" style="color: red;
    text-align: center;
    font-weight: 700;
    margin-top: 10px;">{{data}}</p>
    <form method="POST" action="" class="w-50 mx-auto border p-4 shadow mt-5">
    {% csrf_token %}
    <div class="mb-3">
      <label for="user_id" class="form-label title_1">User Id</label>
      <input type="text" class="form-control" id="user_id" name="user_id" required>
    </div>
    <input type="hidden" name="action" value="id">
    <button type="submit" class="btn btn-primary">Search</button>
  </form>
{% elif data == "Found" %}
<div class="update-form">
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
        <div class="mb-3">
            <label for="userId" class="form-label">ID</label>
            <input type="text" class="form-control" id="userId" name="userId" value=
            {{id}}>
        </div>

        <!-- Name -->
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" name="name" value={{name}}>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">EmailÂ Address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            value={{email}}
          >
        </div>
        <div class="mb-3">
            <label for="department" class="form-label">Department</label>
            <select class="form-control" id="department" name="department" value={{department}}>
                <option value={{department}} >{{department}}</option>
                <option value="CSE">CSE</option>
                <option value="IT">IT</option>
                <option value="ECE">ECE</option>
                <option value="EE">EE</option>
                <option value="ME">ME</option>
                <option value="CE">CE</option>
            </select>
        </div>

        <!-- Subject -->
        <div class="mb-3">
            <label for="subject" class="form-label">Subject</label>
            <input type="text" class="form-control" id="subject" name="subject" value={{subject}}>
        </div>

        <!-- Semester -->
        <div class="mb-3">
            <label for="semester" class="form-label">Semester</label>
            <select class="form-select" id="semester" name="semester">
            <option value={{semester}}>{{semester}}</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            </select>
        </div>
        <!-- Year (Free numeric input) -->
        <div class="mb-3">
            <label for="year" class="form-label">Year</label>
            <input type="number" class="form-control" id="year" name="year" min="2025" max="2100" value={{year}}>
        </div>

    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-primary m-2" name="action" value="update">Save changes</button>
        <button type="submit" class="btn btn-danger m-2" name="action" value="delete">Delete</button>
    </div>
</form>
</div>
{% else %}
    
<div class="w-50 mx-auto border p-4 shadow">
    <p class="massage" style="color: red;
    text-align: center;
    font-weight: 700;
    margin-top: 10px;">{{data}}</p>
    <div class="mb-3">
      <a href="{% url 'teacher_dashboard' %}"><button class="btn btn-danger s_dash_btn log">Home</button> </a>
  </div>

{% endif %}
</div>
{% endblock %}
